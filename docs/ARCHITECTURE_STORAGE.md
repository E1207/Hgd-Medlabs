# ğŸ—ï¸ Architecture de Stockage - MedLab HGD

## Comprendre la SÃ©paration Code vs DonnÃ©es

### Le Principe Fondamental

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           GITHUB (Code Source)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   backend/  â”‚  â”‚  frontend/  â”‚  â”‚   scripts/  â”‚  â”‚    docs/    â”‚    â”‚
â”‚  â”‚  (Java)     â”‚  â”‚  (Angular)  â”‚  â”‚  (Install)  â”‚  â”‚  (Guides)   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  âœ… Peut Ãªtre public                                                    â”‚
â”‚  âœ… VersionnÃ©                                                           â”‚
â”‚  âœ… Partageable                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â¬‡ï¸ SÃ‰PARÃ‰ DE â¬‡ï¸

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SERVEUR HGD (DonnÃ©es Patients)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      /var/medlab/data/                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
â”‚  â”‚  â”‚ uploads/ â”‚  â”‚incoming/ â”‚  â”‚ archives/â”‚  â”‚ backups/ â”‚        â”‚   â”‚
â”‚  â”‚  â”‚  PDFs    â”‚  â”‚  Watch   â”‚  â”‚  Vieux   â”‚  â”‚ Sauves   â”‚        â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  âŒ JAMAIS sur GitHub                                                   â”‚
â”‚  ğŸ”’ DonnÃ©es confidentielles                                             â”‚
â”‚  ğŸ’¾ Stockage local HGD uniquement                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Comment les URLs Fonctionnent

### Sur votre PC (DÃ©veloppement)

```yaml
# application.yml (valeurs par dÃ©faut pour le dev)
medlab:
  file:
    upload-dir: ${UPLOAD_DIR:/Users/emmanuel/.../data/medlab/uploads}
    #            â†‘
    #            Variable d'environnement, avec valeur par dÃ©faut
```

**Signification**: Si `UPLOAD_DIR` n'est pas dÃ©fini â†’ utilise le chemin local.

### Sur le Serveur HGD (Production)

```bash
# /opt/medlab/.env (fichier sur le serveur)
UPLOAD_DIR=/var/medlab/data/uploads
WATCH_DIR=/var/medlab/data/incoming
ARCHIVE_DIR=/var/medlab/data/archives
BACKUP_DIR=/var/medlab/backups
```

**Le code Java lit `${UPLOAD_DIR}` â†’ obtient `/var/medlab/data/uploads`**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MÃŠME CODE JAVA                            â”‚
â”‚                                                              â”‚
â”‚   @Value("${medlab.file.upload-dir}")                       â”‚
â”‚   private String uploadDir;                                  â”‚
â”‚                                                              â”‚
â”‚   // uploadDir = ???                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VOTRE PC (DEV)    â”‚         â”‚  SERVEUR HGD (PROD) â”‚
â”‚                     â”‚         â”‚                     â”‚
â”‚ Pas de .env         â”‚         â”‚ .env dÃ©finit:       â”‚
â”‚ â†’ Valeur par dÃ©faut â”‚         â”‚ UPLOAD_DIR=/var/... â”‚
â”‚                     â”‚         â”‚                     â”‚
â”‚ uploadDir =         â”‚         â”‚ uploadDir =         â”‚
â”‚ "/Users/emmanuel/   â”‚         â”‚ "/var/medlab/       â”‚
â”‚  .../data/uploads"  â”‚         â”‚  data/uploads"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Gestion de Millions de Fichiers sur 20 Ans

### Le ProblÃ¨me

| AnnÃ©e | Fichiers/jour | Total fichiers | Espace (~500Ko/fichier) |
|-------|---------------|----------------|-------------------------|
| 1     | 100           | 36 500         | 18 Go                   |
| 5     | 150           | 273 750        | 137 Go                  |
| 10    | 200           | 730 000        | 365 Go                  |
| 20    | 250           | 1 825 000      | 912 Go                  |

### Solution 1: Organisation par Date

Les fichiers sont organisÃ©s en arborescence:

```
/var/medlab/data/uploads/
â”œâ”€â”€ 2026/
â”‚   â”œâ”€â”€ 01/
â”‚   â”‚   â”œâ”€â”€ result_uuid1.pdf
â”‚   â”‚   â”œâ”€â”€ result_uuid2.pdf
â”‚   â”‚   â””â”€â”€ ... (3000 fichiers max par mois)
â”‚   â”œâ”€â”€ 02/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ 2027/
â””â”€â”€ ...
```

**Avantage**: Aucun dossier ne contient plus de ~3000 fichiers (performance OK).

### Solution 2: Archivage Automatique

```
Fichiers actifs (< 1 an)     â†’  /var/medlab/data/uploads/
                                    â”‚
                                    â”‚ AprÃ¨s 1 an
                                    â–¼
Fichiers archivÃ©s (1-10 ans) â†’  /var/medlab/data/archives/
                                    â”‚
                                    â”‚ AprÃ¨s 10 ans
                                    â–¼
Stockage longue durÃ©e        â†’  /var/medlab/cold-storage/
(bandes magnÃ©tiques ou NAS)      (optionnel, hors systÃ¨me)
```

### Solution 3: Politique de RÃ©tention

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    POLITIQUE DE RÃ‰TENTION HGD                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  AnnÃ©e 0-1:   AccÃ¨s rapide (SSD)     /var/medlab/data/uploads/    â”‚
â”‚               â†“                                                    â”‚
â”‚  AnnÃ©e 1-5:   Archivage actif (HDD)  /var/medlab/data/archives/   â”‚
â”‚               â†“                                                    â”‚
â”‚  AnnÃ©e 5-20:  Archivage froid        Bandes/NAS externe            â”‚
â”‚               â†“                                                    â”‚
â”‚  AprÃ¨s 20 ans: Suppression lÃ©gale    Selon rÃ©glementation          â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Infrastructure RecommandÃ©e pour HGD

### Option A: Serveur Simple (< 100 rÃ©sultats/jour)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SERVEUR UNIQUE              â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  MedLab   â”‚  â”‚PostgreSQL â”‚      â”‚
â”‚  â”‚  (Java)   â”‚  â”‚   (DB)    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                     â”‚
â”‚  Disque 1: 500Go SSD (OS + App)    â”‚
â”‚  Disque 2: 2To HDD (DonnÃ©es)       â”‚
â”‚  Disque 3: 2To HDD (Sauvegardes)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ Sauvegarde hebdomadaire
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     NAS ou Disque Externe           â”‚
â”‚     (Archives longue durÃ©e)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CoÃ»t estimÃ©**: ~2000-3000â‚¬

### Option B: Infrastructure Robuste (> 100 rÃ©sultats/jour)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     RÃ‰SEAU INTERNE HGD                         â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Serveur    â”‚    â”‚   Serveur    â”‚    â”‚     NAS      â”‚    â”‚
â”‚  â”‚ Application  â”‚â—„â”€â”€â–ºâ”‚   Base de    â”‚    â”‚   Stockage   â”‚    â”‚
â”‚  â”‚  (MedLab)    â”‚    â”‚   DonnÃ©es    â”‚    â”‚   (RAID 5)   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         â”‚                                       â”‚             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                         â”‚                                     â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                               â”‚
â”‚                   â”‚  Backup   â”‚                               â”‚
â”‚                   â”‚  Serveur  â”‚                               â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CoÃ»t estimÃ©**: ~10 000-15 000â‚¬

---

## Configuration RÃ©seau

### Le ProblÃ¨me des URLs

| Environnement | URL Frontend | URL Backend API |
|---------------|--------------|-----------------|
| **Dev (vous)** | `http://localhost:4200` | `http://localhost:8080/api` |
| **Production** | `https://medlab.hgd-douala.cm` | `https://medlab.hgd-douala.cm/api` |

### Comment Ã§a marche?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SERVEUR PRODUCTION                           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      NGINX                               â”‚   â”‚
â”‚  â”‚              (Reverse Proxy + HTTPS)                     â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  https://medlab.hgd-douala.cm                           â”‚   â”‚
â”‚  â”‚                    â”‚                                     â”‚   â”‚
â”‚  â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚   â”‚
â”‚  â”‚        â–¼                       â–¼                        â”‚   â”‚
â”‚  â”‚  /api/* â†’ localhost:8080   /* â†’ localhost:4200          â”‚   â”‚
â”‚  â”‚  (Backend Java)            (Frontend Angular)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚   MedLab     â”‚        â”‚   MedLab     â”‚                      â”‚
â”‚  â”‚   Backend    â”‚        â”‚   Frontend   â”‚                      â”‚
â”‚  â”‚   :8080      â”‚        â”‚   :4200      â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Configuration Angular pour Production

```typescript
// frontend/src/environments/environment.prod.ts
export const environment = {
  production: true,
  apiUrl: '/api'  // URL relative, Nginx redirige vers le backend
};
```

---

## Checklist Avant Mise en Production

### 1. SÃ©curitÃ© des DonnÃ©es
- [ ] `.gitignore` configurÃ© (donnÃ©es exclues)
- [ ] Dossier `data/` supprimÃ© de l'historique Git si dÃ©jÃ  commitÃ©
- [ ] Fichier `.env` avec vrais mots de passe (pas sur GitHub)
- [ ] ClÃ© JWT gÃ©nÃ©rÃ©e (`openssl rand -base64 32`)

### 2. Infrastructure
- [ ] Serveur provisionnÃ© avec espace disque suffisant
- [ ] PostgreSQL installÃ© et configurÃ©
- [ ] Nginx installÃ© pour HTTPS
- [ ] Certificat SSL (Let's Encrypt ou achetÃ©)

### 3. Stockage
- [ ] Disques sÃ©parÃ©s pour OS et donnÃ©es
- [ ] RAID ou redondance configurÃ©e
- [ ] Sauvegardes automatiques testÃ©es
- [ ] Plan de rÃ©cupÃ©ration documentÃ©

### 4. RÃ©seau
- [ ] Domaine DNS configurÃ© (medlab.hgd-douala.cm)
- [ ] Pare-feu configurÃ© (ports 22, 80, 443 seulement)
- [ ] VPN pour accÃ¨s distant si nÃ©cessaire

---

## Commandes Utiles

### VÃ©rifier l'espace disque
```bash
df -h /var/medlab
```

### Compter les fichiers
```bash
find /var/medlab/data/uploads -name "*.pdf" | wc -l
```

### Taille totale des donnÃ©es
```bash
du -sh /var/medlab/data/
```

### Fichiers par annÃ©e
```bash
for year in {2024..2030}; do
  count=$(find /var/medlab/data/uploads/$year -name "*.pdf" 2>/dev/null | wc -l)
  echo "$year: $count fichiers"
done
```

---

*Document crÃ©Ã© le 10 fÃ©vrier 2026 - Architecture MedLab v1.0*
